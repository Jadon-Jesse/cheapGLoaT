(this["webpackJsonpcheapgloat-app"]=this["webpackJsonpcheapgloat-app"]||[]).push([[0],{129:function(e,t,n){},358:function(e,t){},367:function(e,t){},385:function(e,t){},387:function(e,t){},404:function(e,t){},405:function(e,t){},469:function(e,t){},471:function(e,t){},480:function(e,t){},482:function(e,t){},507:function(e,t){},509:function(e,t){},510:function(e,t){},516:function(e,t){},529:function(e,t){},541:function(e,t){},544:function(e,t){},549:function(e,t){},560:function(e,t){},563:function(e,t){},627:function(e,t,n){"use strict";n.r(t);var a,i=n(0),s=n.n(i),c=n(89),r=n.n(c),o=(n(344),n(220)),l=n(10),u=n(11),b=n(17),d=n(16),j=(n(129),n(21)),h=n.n(j),p=n(42),x=n(319),m=n.n(x);Object({NODE_ENV:"production",PUBLIC_URL:"/cheapGLoaT",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_INFURA_LINK;if("undefined"!==typeof window&&"undefined"!==typeof window.ethereum){a=new m.a(window.ethereum);try{window.ethereum.enable()}catch(te){console.log("Unable to enable web3")}}else console.log("Please use metamask to enable web3"),a=null;var O,g=a;if(null!==g){O=new g.eth.Contract([{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"checkIfNextRoundAndPickWinner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currentRoundNum",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"subId",type:"uint256"}],name:"downvoteSubmissionById",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"gloatIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"locked",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"manager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"roundIntervalSeconds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"roundStartTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"roundSubAddrs",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"roundSubAddrsKeys",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"roundSubLinks",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"roundSubLinksKeys",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"subCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"subIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"submissions",outputs:[{internalType:"uint256",name:"subId",type:"uint256"},{internalType:"address",name:"subAddr",type:"address"},{internalType:"string",name:"subUrl",type:"string"},{internalType:"string",name:"subCaption",type:"string"},{internalType:"uint256",name:"roundNumber",type:"uint256"},{internalType:"uint256",name:"upvoteCount",type:"uint256"},{internalType:"uint256",name:"downvoteCount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"url",type:"string"},{internalType:"string",name:"caption",type:"string"}],name:"submitLink",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"theGloatLinks",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"theGloats",outputs:[{internalType:"address",name:"subAddr",type:"address"},{internalType:"string",name:"subUrl",type:"string"},{internalType:"string",name:"subCaption",type:"string"},{internalType:"uint256",name:"roundNumber",type:"uint256"},{internalType:"uint256",name:"upvoteCount",type:"uint256"},{internalType:"uint256",name:"downvoteCount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"subId",type:"uint256"}],name:"upvoteSubmissionById",outputs:[],stateMutability:"payable",type:"function"}],"0x50807868722F292D54D6428DDF8D5601b2cF1FfA")}else O=null;var f=O,v=n(173),y=n(78),k=n(653),w=n(647),C=n(643),T=n(652),S=n(35),I=n(24),A=n(1),L=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={web3Connected:!1},a.initPageData=Object(p.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,null===g||null===f){e.next=8;break}return e.next=4,g.eth.getAccounts();case 4:t=e.sent,n=t.length>0,e.next=9;break;case 8:n=!1;case 9:a.setState({web3Connected:n});case 10:case"end":return e.stop()}}),e)}))),a.handleConnectWeb3Click=function(e,t){try{window.ethereum.enable(),a.setState({web3Connected:!0})}catch(te){console.log("Unable to enable web3"),a.setState({web3Connected:!1})}},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.initPageData()}},{key:"render",value:function(){this.state.fixed;var e,t=null;return t=!0===this.state.web3Connected?Object(A.jsxs)(v.a,{as:"a",children:[Object(A.jsx)(y.a,{name:"circle"})," Connected"]}):Object(A.jsxs)(v.a,{as:"a",onClick:this.handleConnectWeb3Click,children:[Object(A.jsx)(y.a,{name:"circle outline"})," Connect"]}),e=Object(A.jsxs)("div",{children:[Object(A.jsx)(k.a,{inverted:!0,textAlign:"center",vertical:!0,children:Object(A.jsx)(w.a,{inverted:!0,pointing:!0,secondary:!0,stackable:!0,children:Object(A.jsxs)(C.a,{children:[Object(A.jsx)(w.a.Item,{name:"GloaT",link:!0,children:Object(A.jsx)(T.a,{inverted:!0,children:Object(A.jsx)(S.b,{to:{pathname:"/gloat"},children:"GLoaT"})})}),Object(A.jsx)(w.a.Item,{name:"Home",link:!0,children:Object(A.jsx)(S.b,{to:{pathname:"/"},children:"Home"})}),Object(A.jsx)(w.a.Item,{name:"New",link:!0,children:Object(A.jsx)(S.b,{to:{pathname:"/new"},children:"New"})}),Object(A.jsx)(w.a.Item,{name:"New",link:!0,children:Object(A.jsx)(S.b,{to:{pathname:"/submit"},children:"Submit"})}),Object(A.jsx)(w.a.Item,{name:"About",link:!0,children:Object(A.jsx)(S.b,{to:{pathname:"/about"},children:"About"})}),Object(A.jsx)(w.a.Item,{position:"right",children:t})]})})}),this.props.children]}),Object(A.jsx)("div",{children:e})}}]),n}(s.a.Component),E=Object(I.e)(L),N=n(654),U=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={curMsg:"",value:"",message:"",accountsAvailable:!1,accountList:[],cRoundStartTime:null,userCanCallNext:!1,loading:!1},a.initPageData=Object(p.a)(h.a.mark((function e(){var t,n,i,s,c,r,o,l,u,b,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],n=!1,i=!1,null===g||null===f){e.next=32;break}return e.next=6,g.eth.getAccounts();case 6:if(!((t=e.sent).length>0)){e.next=28;break}return n=!0,e.next=11,f.methods.roundStartTime().call();case 11:return s=e.sent,e.next=14,f.methods.roundIntervalSeconds().call();case 14:return c=e.sent,e.next=17,f.methods.locked().call();case 17:r=e.sent,o=new Date(1e3*s),l=new Date(Date.now()),u=Math.abs(l-o),6e5,d=((b=1e3*c)-u)/1e3,console.log("Next round available in: ",d," seconds"),i=u>b&&!1===r,e.next=30;break;case 28:n=!1,i=!1;case 30:e.next=34;break;case 32:n=!1,i=!1;case 34:a.setState({accountsAvailable:n,userCanCallNext:i,accountList:t});case 35:case"end":return e.stop()}}),e)}))),a.handleClickCallNextRound=function(){a.callNextRoundPickWinner()},a.callNextRoundPickWinner=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0}),e.prev=1,e.next=4,f.methods.checkIfNextRoundAndPickWinner().send({from:a.state.accountList[0],gas:"5000000"});case 4:e.sent,a.setState({loading:!1,userCanCallNext:!1}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Error, unable to pick winner. Err:",e.t0),a.setState({loading:!1});case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.initPageData()}},{key:"render",value:function(){var e,t=null,n=null;return t=!0===this.state.accountsAvailable?Object(A.jsx)(S.b,{to:{pathname:"/submit"},children:Object(A.jsxs)(T.a,{primary:!0,size:"huge",icon:!0,labelPosition:"right",children:["Submit",Object(A.jsx)(y.a,{name:"right arrow"})]})}):Object(A.jsxs)("div",{children:[Object(A.jsxs)(T.a,{primary:!0,size:"huge",disabled:!0,icon:!0,labelPosition:"right",children:["Submit",Object(A.jsx)(y.a,{name:"right arrow"})]}),Object(A.jsx)("p",{children:"(Unable to connect to the cheapETH network - Refresh the page OR try installing MetaMask to participate)"})]}),!0===this.state.userCanCallNext&&(n=Object(A.jsxs)(T.a,{loading:this.state.loading,basic:!0,color:"orange",size:"huge",onClick:this.handleClickCallNextRound,icon:!0,labelPosition:"right",children:["Next Round",Object(A.jsx)(y.a,{name:"recycle"})]})),e=Object(A.jsx)(k.a,{inverted:!0,textAlign:"center",style:{padding:"1em 0em",height:"100vh"},vertical:!0,children:Object(A.jsxs)(C.a,{text:!0,children:[Object(A.jsxs)("div",{className:"logoText",children:[Object(A.jsx)("p",{children:"cheap"}),"GLOAT"]}),Object(A.jsx)(N.a,{as:"h1",content:"Submit your greatest link",inverted:!0,style:{fontSize:"4em",fontWeight:"normal",marginBottom:"1em",marginTop:"1em"}}),Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{style:{marginBottom:"1em"},children:t}),Object(A.jsx)("div",{style:{marginBottom:"1em"},children:n})]}),Object(A.jsx)(N.a,{as:"h2",inverted:!0,style:{fontSize:"1.7em",fontWeight:"normal",marginTop:"1.5em"},children:Object(A.jsxs)("p",{children:["Or browse ",Object(A.jsx)(S.b,{to:{pathname:"/new"},children:"new submissions"})]})}),this.state.curMsg]})}),Object(A.jsx)("div",{children:e})}}]),n}(i.Component),D=Object(I.e)(U),M=n(648),P=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={curMsg:"",value:"",message:"",gloatCount:0,gloatList:[],loading:!1,roundNum:null,accountsAvailable:!1,accountList:[]},a.initPageData=Object(p.a)(h.a.mark((function e(){var t,n,i,s,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,null===g||null===f){e.next=8;break}return e.next=4,g.eth.getAccounts();case 4:t=e.sent,n=t.length>0,e.next=9;break;case 8:n=!1;case 9:if(!0!==n){e.next=28;break}return a.setState({loading:!0,accountsAvailable:n,accountList:t}),e.next=13,f.methods.gloatIndex().call();case 13:if(i=e.sent,s=[],!(i>0)){e.next=25;break}c=0;case 17:if(!(c<i)){e.next=25;break}return e.next=20,f.methods.theGloats(c).call();case 20:r=e.sent,s.push(r);case 22:c++,e.next=17;break;case 25:a.setState({gloatList:s,loading:!1}),e.next=29;break;case 28:a.setState({loading:!1,accountsAvailable:n});case 29:case"end":return e.stop()}}),e)}))),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.initPageData()}},{key:"render",value:function(){var e,t=this.state.gloatList.map((function(e,t){if("0x0000000000000000000000000000000000000000"==e.subAddr){var n={basic:!0,content:e.upvoteCount},a={basic:!0,pointing:"right",content:e.downvoteCount};return Object(A.jsxs)(M.a,{children:[Object(A.jsx)(M.a.Content,{style:{maxWidth:"40px",minWidth:"40px"},children:Object(A.jsxs)(M.a.Header,{children:[t,"."]})}),Object(A.jsxs)(M.a.Content,{children:[Object(A.jsx)(M.a.Header,{children:Object(A.jsx)("div",{className:"container",children:Object(A.jsx)("span",{title:""})})}),Object(A.jsxs)(M.a.Description,{children:[" ",Object(A.jsxs)(v.a,{size:"mini",children:["by ",e.subAddr]})]}),Object(A.jsx)(M.a.Extra,{})]}),Object(A.jsx)(M.a.Content,{style:{paddingLeft:"10px"},children:Object(A.jsxs)("div",{style:{float:"right"},children:[Object(A.jsx)(T.a,{disabled:!0,icon:"arrow up",color:"blue",label:n,labelPosition:"right"}),Object(A.jsx)(T.a,{disabled:!0,icon:"arrow down",color:"black",label:a,labelPosition:"left"})]})})]},t)}var i=function(e,t,n){if(e.length>t)return e.substr(0,t)+"..."+e.substr(e.length-n);return e}(e.subUrl,42,3),s={basic:!0,content:e.upvoteCount},c={basic:!0,pointing:"right",content:e.downvoteCount};return Object(A.jsxs)(M.a,{children:[Object(A.jsx)(M.a.Content,{style:{maxWidth:"40px",minWidth:"40px"},children:Object(A.jsxs)(M.a.Header,{children:[t,"."]})}),Object(A.jsxs)(M.a.Content,{children:[Object(A.jsx)(M.a.Header,{href:e.subUrl,target:"_blank",children:Object(A.jsx)("div",{className:"container",children:Object(A.jsx)("span",{title:e.subUrl,children:i})})}),Object(A.jsxs)(M.a.Description,{children:[e.subCaption," ",Object(A.jsxs)(v.a,{color:"blue",size:"mini",children:["by ",e.subAddr]})]}),Object(A.jsx)(M.a.Extra,{})]}),Object(A.jsx)(M.a.Content,{style:{paddingLeft:"10px"},children:Object(A.jsxs)("div",{style:{float:"right"},children:[Object(A.jsx)(T.a,{disabled:!0,icon:"arrow up",color:"blue",label:s,labelPosition:"right",value:e.subId}),Object(A.jsx)(T.a,{disabled:!0,icon:"arrow down",color:"black",label:c,labelPosition:"left",value:e.subId})]})})]},t)}));return e=Object(A.jsxs)("div",{children:[Object(A.jsx)(k.a,{inverted:!0,textAlign:"center",style:{minHeight:100,padding:"1em 0em"},vertical:!0,loading:this.state.loading,children:Object(A.jsx)(C.a,{text:!0,children:Object(A.jsx)(N.a,{as:"h1",inverted:!0,style:{fontWeight:"normal",marginBottom:"1em",marginTop:"1em"},children:"Greatest Links of all Time"})})}),Object(A.jsx)(k.a,{style:{margin:"3em",padding:"1em 0em"},vertical:!0,size:"small",children:Object(A.jsx)(M.a.Group,{divided:!0,children:t})})]}),Object(A.jsx)("div",{children:e})}}]),n}(i.Component),z=Object(I.e)(P),H=(n(622),n(644)),W=n(649),R=n(651),G=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e)}return Object(u.a)(n,[{key:"render",value:function(){var e;return e=Object(A.jsxs)("div",{children:[Object(A.jsx)(k.a,{inverted:!0,textAlign:"center",style:{minHeight:100,padding:"1em 0em"},vertical:!0,children:Object(A.jsx)(C.a,{text:!0,children:Object(A.jsx)(N.a,{as:"h1",inverted:!0,style:{fontWeight:"normal",marginBottom:"1em",marginTop:"1em"},children:Object(A.jsx)(N.a.Content,{children:"About cheapGLoaT"})})})}),Object(A.jsx)(k.a,{textAlign:"left",children:Object(A.jsxs)(C.a,{text:!0,children:[Object(A.jsx)("b",{children:"cheapGLoaT"}),Object(A.jsx)(H.a,{}),Object(A.jsx)("p",{children:'"Greatest Links of all Time" is a decentralized link aggregation system built on the cheapETH network.'}),Object(A.jsx)("p",{children:"The idea is to provide users with a periodically updating, self moderating platform - to aggregate and reward great links."})]})}),Object(A.jsx)(k.a,{textAlign:"left",children:Object(A.jsxs)(C.a,{text:!0,children:[Object(A.jsx)("b",{children:"How it works"}),Object(A.jsx)(H.a,{}),Object(A.jsxs)(W.a,{as:"ul",children:[Object(A.jsxs)(W.a.Item,{as:"li",children:["Each ",Object(A.jsx)("b",{children:"round"})," there are 69 ",Object(A.jsx)("b",{children:"submission"})," spots available",Object(A.jsxs)(R.a,{size:"mini",children:["A",Object(A.jsx)("b",{children:" round  "})," lasts approximately ",Object(A.jsx)("b",{children:"24 hours"})," and is essentially the heartbeat of the cheapGLoaT system",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),Object(A.jsx)("b",{children:"Submissions"})," are free. You only pay for the gas"]})]}),Object(A.jsxs)(W.a.Item,{as:"li",children:["Each round a ",Object(A.jsx)("b",{children:"unique user "}),"is allowed to submit a ",Object(A.jsx)("b",{children:"unique link "}),"(if there are submission spots available)",Object(A.jsxs)(R.a,{size:"mini",children:["A",Object(A.jsx)("b",{children:" unique user "}),"is a user who has not yet made a submission in the current round",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"A",Object(A.jsx)("b",{children:" unique link "}),"is a link which has not yet been submitted in the current round and also has not already been entered into the Greatest Links of all Time"]})]}),Object(A.jsxs)(W.a.Item,{as:"li",children:["Each round",Object(A.jsx)("b",{children:" general users "}),'are allowed to view and interact with the current round submissions by visiting the "New" tab',Object(A.jsxs)(R.a,{size:"mini",children:[Object(A.jsx)("b",{children:" general users "}),"are the set of users who have successfully connected to the cheapGLoaT front-end via MetaMask"]})]}),Object(A.jsxs)(W.a.Item,{as:"li",children:["Each round a general user is allowed to ",Object(A.jsx)("b",{children:"up-vote "}),"multiple submissions but is not allowed to ",Object(A.jsx)("b",{children:"up-vote "}),"the same submission more than once",Object(A.jsxs)(R.a,{size:"mini",children:[Object(A.jsx)(T.a,{icon:"arrow up",color:"blue",label:{basic:!0,content:1},labelPosition:"right"}),"1 ",Object(A.jsx)("b",{children:"up-vote "}),"costs a minimum of 0.005 cTH"]})]}),Object(A.jsxs)(W.a.Item,{as:"li",children:["Each round a general user is allowed to ",Object(A.jsx)("b",{children:"down-vote "}),"multiple submissions but is not allowed to ",Object(A.jsx)("b",{children:"down-vote "}),"the same submission more than once",Object(A.jsxs)(R.a,{size:"mini",children:[Object(A.jsx)(T.a,{icon:"arrow down",color:"black",label:{basic:!0,pointing:"right",content:1},labelPosition:"left"}),"1 ",Object(A.jsx)("b",{children:"down-vote "}),"costs a minimum of 0.005 cTH"]})]}),Object(A.jsxs)(W.a.Item,{as:"li",children:["Each round a",Object(A.jsx)("b",{children:" prize pool "}),"is formed so that the winnings can be distributed appropriately",Object(A.jsxs)(R.a,{size:"mini",children:["The",Object(A.jsx)("b",{children:" prize pool "}),"is the value of the of the total number of up-votes, across all submissions, for that round",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"Down-votes do not contribute to the value of the",Object(A.jsx)("b",{children:" prize pool "}),Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"For example, if there were 3 submissions in the current round; ",Object(A.jsx)("i",{children:"Submission A"})," with 3 up-votes, ",Object(A.jsx)("i",{children:"Submission B"})," with 2 up-votes and ",Object(A.jsx)("i",{children:"Submission C"})," with 1 up-vote and 5 down-votes. Then, that rounds ",Object(A.jsx)("b",{children:"prize pool"})," will be = (0.005 cTH * (3+2+1)) = 0.03 cTH",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"The",Object(A.jsx)("b",{children:" prize pool "}),"for a round is distributed as follows; 70% goes to the winner, 20% to the lucky caller, 10% to the manager"]})]}),Object(A.jsxs)(W.a.Item,{as:"li",children:["The",Object(A.jsx)("b",{children:" winner "}),"of each round will be the submission with the highest ",Object(A.jsx)("b",{children:"score"})," (or earliest submission)",Object(A.jsxs)(R.a,{size:"mini",children:["The",Object(A.jsx)("b",{children:" winner "}),"will receive 70% of the total prize pool for that that round",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"The",Object(A.jsx)("b",{children:" winner's "}),"submission will be entered into the Greatest Links of all Time",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"The",Object(A.jsx)("b",{children:" score "}),"for a submission is calculated by taking the difference between it's number of up-votes and it's number of down-votes"]})]}),Object(A.jsxs)(W.a.Item,{as:"li",children:["At the end of each round one lucky general user will be allowed to call the ",Object(A.jsx)("b",{children:"checkIfNextRoundAndPickWinner"})," function",Object(A.jsxs)(R.a,{size:"mini",children:[Object(A.jsx)("b",{children:"checkIfNextRoundAndPickWinner "}),"is a function defined in the cheapGLoaT contract",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"The ",Object(A.jsxs)(T.a,{size:"mini",basic:!0,color:"orange",icon:!0,labelPosition:"right",children:["Next Round",Object(A.jsx)(y.a,{name:"recycle"})]}),'button will become visible on the "Home" tab once the ',Object(A.jsx)("b",{children:"checkIfNextRoundAndPickWinner "})," function is ready to be called",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"The user who chooses to execute the",Object(A.jsx)("b",{children:" checkIfNextRoundAndPickWinner "}),"function will be the one who is responsible for picking the winner, settling payments and resetting the cheapGLoaT contract for the next round",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"Since the ",Object(A.jsx)("b",{children:"checkIfNextRoundAndPickWinner "}),"function carries out most of the contract logic, the gas price to execute can get a bit high (min 5000000 wei)",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"So if a user successfully executes the ",Object(A.jsx)("b",{children:"checkIfNextRoundAndPickWinner "}),"function, they will receive 20% of the total prize pool for that round"]})]})]})]})}),Object(A.jsx)(k.a,{textAlign:"left",children:Object(A.jsxs)(C.a,{text:!0,children:[Object(A.jsx)("b",{children:"Useful Links"}),Object(A.jsx)(H.a,{}),Object(A.jsxs)(W.a,{as:"ul",children:[Object(A.jsx)(W.a.Item,{as:"li",children:Object(A.jsx)(M.a.Header,{href:"https://cheapeth.org/",target:"_blank",children:"cheapETH project"})}),Object(A.jsx)(W.a.Item,{as:"li",children:Object(A.jsx)(M.a.Header,{href:"https://metamask.io/download.html",target:"_blank",children:"how to setup MetaMask"})}),Object(A.jsx)(W.a.Item,{as:"li",children:Object(A.jsx)(M.a.Header,{href:"https://cheapeth.org/metamask.html",target:"_blank",children:"how to setup cheapETH on MetaMask"})}),Object(A.jsx)(W.a.Item,{as:"li",children:Object(A.jsx)(M.a.Header,{href:"https://github.com/Jadon-Jesse/cheapGLoaT-contracts",target:"_blank",children:"cheapGLoaT contract source code"})}),Object(A.jsx)(W.a.Item,{as:"li",children:Object(A.jsx)(M.a.Header,{href:"https://github.com/Jadon-Jesse/cheapGLoaT",target:"_blank",children:"cheapGLoaT front-end source code"})})]})]})}),Object(A.jsx)(k.a,{textAlign:"left",children:Object(A.jsxs)(C.a,{text:!0,children:[Object(A.jsx)("b",{children:"Update"}),Object(A.jsx)(H.a,{}),Object(A.jsxs)(R.a,{size:"mini",children:["The ",Object(A.jsx)("b",{children:"cheapGLoaT"})," contract has been re-deployed so that the cost per up-vote/down-vote is 0.005 cTH",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"Apologies to all previous round winners! Feel free to see if your submission still holds up ;)",Object(A.jsx)("br",{}),Object(A.jsx)("br",{})]})]})}),Object(A.jsx)(k.a,{textAlign:"left",children:Object(A.jsxs)(C.a,{text:!0,children:[Object(A.jsx)("b",{children:"Support"}),Object(A.jsx)(H.a,{}),Object(A.jsxs)(W.a,{as:"ul",children:[Object(A.jsxs)(W.a.Item,{children:[Object(A.jsx)(W.a.Icon,{name:"arrow down"})," By down-voting shitposts"]}),"OR",Object(A.jsx)("br",{}),Object(A.jsxs)(W.a.Item,{children:[Object(A.jsx)(W.a.Icon,{name:"ethereum"})," 0x6D126F7882EfE24587039bADE81843178e8DdC86"]}),Object(A.jsxs)(W.a.Item,{children:[Object(A.jsx)(W.a.Icon,{name:"btc"})," 3CYmGwB9oBnN7xMS9LpJv45DMibWjrz6bN"]})]})]})})]}),Object(A.jsx)("div",{children:e})}}]),n}(i.Component),_=Object(I.e)(G),B=n(655),F=n(650),J=n(646),K=n(645),q=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={linkUrl:"",linkCaption:"",submittedLinkUrl:"",submittedLinkCaption:"",message:"",loading:!1,linkUrlErr:!1,linkCapErr:!1},a.handleSubmit=function(){try{var e=String(a.state.linkUrl),t=String(a.state.linkCaption);!0===a.is_url(e)&&!0===a.is_validCap(t)?(a.setState({submittedLinkUrl:e,submittedLinkCaption:t,linkUrlErr:!1,linkCapErr:!1}),a.onSubmit()):a.setState({linkUrlErr:!0,linkCapErr:!0})}catch(te){a.setState({linkUrlErr:!0,linkCapErr:!0})}},a.handleChange=function(e,t){t.name;var n=t.value;try{var i=String(n);!0===a.is_validCap(i)?a.setState({linkCaption:i,linkCapErr:!1}):a.setState({linkCaption:i,linkCapErr:!0})}catch(te){a.setState({linkCaption:n,linkCapErr:!0})}},a.is_url=function(e){return!!/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/.test(e)},a.is_validCap=function(e){return!(!0===/^\s/.test(e)||!0===/\s$/.test(e)||0===e.length||e.length>64)},a.handleChangeUrl=function(e,t){t.name;var n=t.value;try{var i=String(n);!0===a.is_url(i)?a.setState({linkUrl:i,linkUrlErr:!1}):a.setState({linkUrl:i,linkUrlErr:!0})}catch(te){a.setState({linkUrl:n,linkUrlErr:!0})}},a.onSubmit=Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.eth.getAccounts();case 3:return t=e.sent,a.setState({message:"Pending",loading:!0}),e.next=7,f.methods.submitLink(a.state.submittedLinkUrl,a.state.submittedLinkCaption).send({from:t[0]});case 7:a.setState({message:"Done",loading:!1}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error submitting. Err:",e.t0),a.setState({message:"Error",loading:!1});case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),a}return Object(u.a)(n,[{key:"render",value:function(){var e;return e=Object(A.jsx)(k.a,{vertical:!0,children:Object(A.jsx)(B.a,{textAlign:"center",style:{height:"100vh"},children:Object(A.jsx)(B.a.Column,{style:{maxWidth:450},children:Object(A.jsx)(F.a,{centered:!0,fluid:!0,children:Object(A.jsxs)(F.a.Content,{children:[Object(A.jsxs)(J.a,{loading:this.state.loading,onSubmit:this.handleSubmit,children:[Object(A.jsxs)(J.a.Field,{error:this.state.linkUrlErr,children:[Object(A.jsx)("label",{children:"Link Url"}),Object(A.jsx)(K.a,{name:"linkUrl",value:this.state.linkUrl,onChange:this.handleChangeUrl,placeholder:"Enter the plain text url"})]}),Object(A.jsxs)(J.a.Field,{error:this.state.linkCapErr,children:[Object(A.jsx)("label",{children:"Caption"}),Object(A.jsx)(J.a.Input,{name:"linkCaption",value:this.state.linkCaption,onChange:this.handleChange,placeholder:"Enter text caption (Max 64 characters)"})]}),Object(A.jsx)(T.a,{type:"submit",children:"Submit"})]}),Object(A.jsx)("p",{children:this.state.message})]})})})})}),Object(A.jsx)("div",{children:e})}}]),n}(i.Component),V=Object(I.e)(q),Y="0x0000000000000000000000000000000000000000",$=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={curMsg:"",value:"",message:"",newSubs:[],loading:!1,roundNum:null,accountsAvailable:!1,accountList:[],upvoteIsLoading:[],downvoteIsLoading:[]},a.initPageData=Object(p.a)(h.a.mark((function e(){var t,n,i,s,c,r,o,l,u,b;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,null===g||null===f){e.next=8;break}return e.next=4,g.eth.getAccounts();case 4:t=e.sent,n=t.length>0,e.next=9;break;case 8:n=!1;case 9:if(!0!==n){e.next=41;break}return e.next=12,f.methods.currentRoundNum().call();case 12:return i=e.sent,e.next=15,f.methods.subCount().call();case 15:s=e.sent,a.setState({roundNum:i,loading:!0,accountsAvailable:n,accountList:t}),c=[],r=[],o=[],l=0;case 21:if(!(l<69)){e.next=38;break}if(!(l<s)){e.next=31;break}return e.next=25,f.methods.submissions(l).call();case 25:u=e.sent,c.push(u),r.push(!1),o.push(!1),e.next=35;break;case 31:b={downvoteCount:"0",subAddr:Y,subCaption:"",subUrl:"",upvoteCount:"0"},c.push(b),r.push(!1),o.push(!1);case 35:l++,e.next=21;break;case 38:a.setState({newSubs:c,loading:!1,upvoteIsLoading:r,downvoteIsLoading:o}),e.next=42;break;case 41:a.setState({roundNum:null,loading:!1,accountsAvailable:n});case 42:case"end":return e.stop()}}),e)}))),a.updateSubVotesAtId=function(){var e=Object(p.a)(h.a.mark((function e(t){var n,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0}),e.prev=1,e.next=4,f.methods.submissions(t).call();case 4:n=e.sent,(i=a.state.newSubs)[t]=n,a.setState({newSubs:i,loading:!1}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("Error, unable to update submission vote count. Err:",e.t0),a.setState({loading:!1});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),a.handleClickUpvote=function(e,t){var n=t.value;console.log("Upvote clicked on subID:",n),a.submitUpvoteAsync(n)},a.submitUpvoteAsync=function(){var e=Object(p.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=a.state.upvoteIsLoading)[t]=!0,a.setState({loading:!0,upvoteIsLoading:n}),e.prev=3,e.next=6,f.methods.upvoteSubmissionById(t).send({from:a.state.accountList[0],value:g.utils.toWei("0.005","ether"),gas:"1000000"});case 6:return e.sent,e.next=9,a.updateSubVotesAtId(t);case 9:n[t]=!1,a.setState({loading:!1,upvoteIsLoading:n}),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(3),console.log("Error, unable to upvote. Err:",e.t0),n[t]=!1,a.setState({loading:!1,upvoteIsLoading:n});case 18:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),a.handleClickDownvote=function(e,t){var n=t.value;console.log("Downvote clicked on subID:",n),a.submitDownvotevoteAsync(n)},a.submitDownvotevoteAsync=function(){var e=Object(p.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=a.state.downvoteIsLoading)[t]=!0,a.setState({loading:!0,downvoteIsLoading:n}),e.prev=3,e.next=6,f.methods.downvoteSubmissionById(t).send({from:a.state.accountList[0],value:g.utils.toWei("0.005","ether"),gas:"1000000"});case 6:return e.sent,e.next=9,a.updateSubVotesAtId(t);case 9:n[t]=!1,a.setState({loading:!1,downvoteIsLoading:n}),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(3),console.log("Error, unable to downvote. Err:",e.t0),n[t]=!1,a.setState({loading:!1,downvoteIsLoading:n});case 18:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.initPageData()}},{key:"render",value:function(){var e,t=this,n=this.state.newSubs.map((function(e,n){if(e.subAddr==Y){var a={basic:!0,content:e.upvoteCount},i={basic:!0,pointing:"right",content:e.downvoteCount};return Object(A.jsxs)(M.a,{children:[Object(A.jsx)(M.a.Content,{style:{maxWidth:"40px",minWidth:"40px"},children:Object(A.jsxs)(M.a.Header,{children:[n,"."]})}),Object(A.jsxs)(M.a.Content,{children:[Object(A.jsx)(M.a.Header,{children:Object(A.jsx)("div",{className:"container",children:Object(A.jsx)("span",{title:""})})}),Object(A.jsxs)(M.a.Description,{children:[" ",Object(A.jsxs)(v.a,{size:"mini",children:["by ",e.subAddr]})]}),Object(A.jsx)(M.a.Extra,{})]}),Object(A.jsx)(M.a.Content,{style:{paddingLeft:"10px"},children:Object(A.jsxs)("div",{style:{float:"right"},children:[Object(A.jsx)(T.a,{disabled:!0,icon:"arrow up",color:"blue",label:a,labelPosition:"right"}),Object(A.jsx)(T.a,{disabled:!0,icon:"arrow down",color:"black",label:i,labelPosition:"left"})]})})]},n)}var s=function(e,t,n){if(e.length>t)return e.substr(0,t)+"..."+e.substr(e.length-n);return e}(e.subUrl,42,3),c={basic:!0,content:e.upvoteCount,color:"blue"},r={basic:!0,pointing:"right",content:e.downvoteCount,color:"black"};return Object(A.jsxs)(M.a,{children:[Object(A.jsx)(M.a.Content,{style:{maxWidth:"40px",minWidth:"40px"},children:Object(A.jsxs)(M.a.Header,{children:[n,"."]})}),Object(A.jsxs)(M.a.Content,{children:[Object(A.jsx)(M.a.Header,{href:e.subUrl,target:"_blank",children:Object(A.jsx)("div",{className:"container",children:Object(A.jsx)("span",{title:e.subUrl,children:s})})}),Object(A.jsxs)(M.a.Description,{children:[e.subCaption," ",Object(A.jsxs)(v.a,{size:"mini",children:["by ",e.subAddr]})]}),Object(A.jsx)(M.a.Extra,{})]}),Object(A.jsx)(M.a.Content,{style:{paddingLeft:"10px"},children:Object(A.jsxs)("div",{style:{float:"right"},children:[Object(A.jsx)(T.a,{loading:t.state.upvoteIsLoading[n],onClick:t.handleClickUpvote,icon:"arrow up",color:"blue",label:c,labelPosition:"right",value:e.subId}),Object(A.jsx)(T.a,{loading:t.state.downvoteIsLoading[n],onClick:t.handleClickDownvote,icon:"arrow down",color:"black",label:r,labelPosition:"left",value:e.subId})]})})]},n)}));return e=Object(A.jsxs)("div",{children:[Object(A.jsx)(k.a,{inverted:!0,textAlign:"center",style:{minHeight:100,padding:"1em 0em"},vertical:!0,loading:this.state.loading,children:Object(A.jsx)(C.a,{text:!0,children:Object(A.jsx)(N.a,{as:"h1",inverted:!0,style:{fontWeight:"normal",marginBottom:"1em",marginTop:"1em"},children:Object(A.jsxs)(N.a.Content,{children:["Round (",this.state.roundNum,") Submissions"]})})})}),Object(A.jsx)(k.a,{style:{margin:"3em",padding:"1em 0em"},vertical:!0,size:"small",children:Object(A.jsx)(M.a.Group,{divided:!0,children:n})})]}),Object(A.jsx)("div",{children:e})}}]),n}(i.Component),Q=Object(I.e)($),X=function(){return Object(A.jsxs)("div",{children:[Object(A.jsx)(I.a,{exact:!0,path:"/",component:D}),Object(A.jsx)(I.a,{exact:!0,path:"/gloat",component:z}),Object(A.jsx)(I.a,{exact:!0,path:"/about",component:_}),Object(A.jsx)(I.a,{exact:!0,path:"/submit",component:V}),Object(A.jsx)(I.a,{exact:!0,path:"/new",component:Q})]})},Z=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(A.jsx)("div",{children:Object(A.jsx)(S.a,{basename:"/cheapGLoaT",children:Object(A.jsx)(E,Object(o.a)(Object(o.a)({},this.props),{},{children:Object(A.jsx)(X,{})}))})})}}]),n}(i.Component),ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,656)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),s(e),c(e)}))};r.a.render(Object(A.jsx)(s.a.StrictMode,{children:Object(A.jsx)(Z,{})}),document.getElementById("root")),ee()}},[[627,1,2]]]);
//# sourceMappingURL=main.c5e87039.chunk.js.map